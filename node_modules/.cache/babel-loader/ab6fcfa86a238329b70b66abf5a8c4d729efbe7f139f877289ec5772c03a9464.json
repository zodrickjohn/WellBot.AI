{"ast":null,"code":"var _jsxFileName = \"D:\\\\HealthDiagnoser-master\\\\src\\\\components\\\\BodyModel.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useGLTF, Html } from '@react-three/drei';\nimport { Suspense, useState, useEffect, useRef } from 'react';\nimport * as THREE from 'three';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Model({\n  setError,\n  onPartClick,\n  selectedParts\n}) {\n  _s();\n  const {\n    scene,\n    materials\n  } = useGLTF('public/assets/models/body-model.glb', undefined, loader => {\n    loader.manager.onError = url => {\n      console.error('Error loading:', url);\n      setError(`Failed to load model: ${url}`);\n    };\n  });\n  const [debugInfo, setDebugInfo] = useState('');\n  const originalMaterials = useRef(new Map());\n  useEffect(() => {\n    try {\n      if (!scene) {\n        setError('Scene not loaded');\n        return;\n      }\n\n      // Debug info\n      const meshNames = [];\n      scene.traverse(child => {\n        if (child.isMesh) {\n          meshNames.push(child.name);\n          originalMaterials.current.set(child, child.material.clone());\n        }\n      });\n      setDebugInfo(`Loaded ${meshNames.length} meshes: ${meshNames.join(', ')}`);\n\n      // Adjust model\n      const box = new THREE.Box3().setFromObject(scene);\n      const center = box.getCenter(new THREE.Vector3());\n      scene.position.sub(center);\n      scene.scale.set(1, 1, 1); // Start with 1:1 scale\n    } catch (err) {\n      console.error('Model setup error:', err);\n      setError(`Model processing failed: ${err.message}`);\n    }\n  }, [scene]);\n  return /*#__PURE__*/_jsxDEV(\"group\", {\n    children: [/*#__PURE__*/_jsxDEV(\"primitive\", {\n      object: scene,\n      onClick: e => {\n        e.stopPropagation();\n        if (e.object.isMesh && e.object.name) {\n          onPartClick(e.object.name);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"axesHelper\", {\n      args: [2]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Html, {\n      position: [0, 2, 0],\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: 'white',\n          padding: '10px',\n          borderRadius: '5px',\n          color: 'black'\n        },\n        children: debugInfo || 'Loading model...'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(Model, \"U657H8y4ovmjwW0Ev1sFp9qyEPk=\", false, function () {\n  return [useGLTF];\n});\n_c = Model;\nexport default function BodyModel({\n  onPartClick,\n  selectedParts\n}) {\n  _s2();\n  const [error, setError] = useState(null);\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Html, {\n      center: true,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: 'rgba(255,0,0,0.2)',\n          padding: '20px',\n          borderRadius: '10px',\n          maxWidth: '400px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u26A0\\uFE0F Model Error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Possible fixes:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"Verify file exists at \", /*#__PURE__*/_jsxDEV(\"code\", {\n              children: \"public/assets/models/body-model.glb\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 39\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Check browser console for network errors\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Try a simpler GLB model first\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Test in different browser\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Suspense, {\n    fallback: /*#__PURE__*/_jsxDEV(Html, {\n      center: true,\n      children: \"Loading model...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 25\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(Model, {\n      setError: setError,\n      onPartClick: onPartClick,\n      selectedParts: selectedParts\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n}\n\n// Preload with error handling\n_s2(BodyModel, \"A8i/78Fx3FIozbyR2zwnz0NK35o=\");\n_c2 = BodyModel;\ntry {\n  useGLTF.preload('/assets/models/body-model.glb');\n} catch (err) {\n  console.error('Preload error:', err);\n}\nvar _c, _c2;\n$RefreshReg$(_c, \"Model\");\n$RefreshReg$(_c2, \"BodyModel\");","map":{"version":3,"names":["useGLTF","Html","Suspense","useState","useEffect","useRef","THREE","jsxDEV","_jsxDEV","Model","setError","onPartClick","selectedParts","_s","scene","materials","undefined","loader","manager","onError","url","console","error","debugInfo","setDebugInfo","originalMaterials","Map","meshNames","traverse","child","isMesh","push","name","current","set","material","clone","length","join","box","Box3","setFromObject","center","getCenter","Vector3","position","sub","scale","err","message","children","object","onClick","e","stopPropagation","fileName","_jsxFileName","lineNumber","columnNumber","args","style","background","padding","borderRadius","color","_c","BodyModel","_s2","maxWidth","fallback","_c2","preload","$RefreshReg$"],"sources":["D:/HealthDiagnoser-master/src/components/BodyModel.js"],"sourcesContent":["import { useGLTF, Html } from '@react-three/drei';\nimport { Suspense, useState, useEffect, useRef } from 'react';\nimport * as THREE from 'three';\n\nfunction Model({ setError, onPartClick, selectedParts }) {\n  const { scene, materials } = useGLTF('public/assets/models/body-model.glb', undefined, (loader) => {\n    loader.manager.onError = (url) => {\n      console.error('Error loading:', url);\n      setError(`Failed to load model: ${url}`);\n    };\n  });\n  \n  const [debugInfo, setDebugInfo] = useState('');\n  const originalMaterials = useRef(new Map());\n\n  useEffect(() => {\n    try {\n      if (!scene) {\n        setError('Scene not loaded');\n        return;\n      }\n\n      // Debug info\n      const meshNames = [];\n      scene.traverse((child) => {\n        if (child.isMesh) {\n          meshNames.push(child.name);\n          originalMaterials.current.set(child, child.material.clone());\n        }\n      });\n      setDebugInfo(`Loaded ${meshNames.length} meshes: ${meshNames.join(', ')}`);\n\n      // Adjust model\n      const box = new THREE.Box3().setFromObject(scene);\n      const center = box.getCenter(new THREE.Vector3());\n      scene.position.sub(center);\n      scene.scale.set(1, 1, 1); // Start with 1:1 scale\n\n    } catch (err) {\n      console.error('Model setup error:', err);\n      setError(`Model processing failed: ${err.message}`);\n    }\n  }, [scene]);\n\n  return (\n    <group>\n      <primitive object={scene} onClick={(e) => {\n        e.stopPropagation();\n        if (e.object.isMesh && e.object.name) {\n          onPartClick(e.object.name);\n        }\n      }} />\n      \n      {/* Debug axes helper */}\n      <axesHelper args={[2]} />\n      \n      {/* Debug info display */}\n      <Html position={[0, 2, 0]}>\n        <div style={{\n          background: 'white',\n          padding: '10px',\n          borderRadius: '5px',\n          color: 'black'\n        }}>\n          {debugInfo || 'Loading model...'}\n        </div>\n      </Html>\n    </group>\n  );\n}\n\nexport default function BodyModel({ onPartClick, selectedParts }) {\n  const [error, setError] = useState(null);\n\n  if (error) {\n    return (\n      <Html center>\n        <div style={{ \n          background: 'rgba(255,0,0,0.2)', \n          padding: '20px',\n          borderRadius: '10px',\n          maxWidth: '400px'\n        }}>\n          <h3>⚠️ Model Error</h3>\n          <p>{error}</p>\n          <p>Possible fixes:</p>\n          <ol>\n            <li>Verify file exists at <code>public/assets/models/body-model.glb</code></li>\n            <li>Check browser console for network errors</li>\n            <li>Try a simpler GLB model first</li>\n            <li>Test in different browser</li>\n          </ol>\n        </div>\n      </Html>\n    );\n  }\n\n  return (\n    <Suspense fallback={<Html center>Loading model...</Html>}>\n      <Model \n        setError={setError} \n        onPartClick={onPartClick} \n        selectedParts={selectedParts} \n      />\n    </Suspense>\n  );\n}\n\n// Preload with error handling\ntry {\n  useGLTF.preload('/assets/models/body-model.glb');\n} catch (err) {\n  console.error('Preload error:', err);\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}